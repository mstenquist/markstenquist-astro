---
import Layout from '../components/Layout.astro';
import { getServices } from '../lib/sanity';

const services = await getServices();

// Helper function to get icon colors
const getColorClasses = (color: string) => {
  const colorMap = {
    blue: { bg: 'bg-blue-100', text: 'text-blue-600', bullet: 'bg-blue-600' },
    purple: { bg: 'bg-purple-100', text: 'text-purple-600', bullet: 'bg-purple-600' },
    green: { bg: 'bg-green-100', text: 'text-green-600', bullet: 'bg-green-600' },
    orange: { bg: 'bg-orange-100', text: 'text-orange-600', bullet: 'bg-orange-600' },
    red: { bg: 'bg-red-100', text: 'text-red-600', bullet: 'bg-red-600' },
    indigo: { bg: 'bg-indigo-100', text: 'text-indigo-600', bullet: 'bg-indigo-600' },
  };
  return colorMap[color as keyof typeof colorMap] || colorMap.blue;
};
---

<Layout title="Services - Mark Stenquist" description="Frontend architecture consulting, AI integration, and performance optimization services for venture-backed startups.">
	<!-- Hero Section -->
	<section class="text-center mb-12">
				<h1 class="text-5xl font-black text-gray-900 mb-4">Consulting Services</h1>
				<p class="text-xl text-gray-600 max-w-3xl mx-auto">
					Web development and design for modern digital products.
				</p>
	</section>

	<!-- Services Grid -->
	<div class="grid md:grid-cols-2 gap-8 mb-16">
		{services.length === 0 ? (
			<div class="col-span-full text-center py-16">
				<div class="w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6">
					<span class="text-4xl">⚙️</span>
				</div>
				<h2 class="text-2xl font-bold text-gray-900 mb-4">No services configured yet</h2>
				<p class="text-gray-600 mb-8">Add services in Sanity Studio to display them here.</p>
				<a 
					href="/studio" 
					class="inline-block bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors"
				>
					Add Services
				</a>
			</div>
		) : (
			services.map((service: any) => {
				const colors = getColorClasses(service.iconColor || 'blue');
				return (
					<div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-8">
						<div class={`w-16 h-16 ${colors.bg} rounded-xl flex items-center justify-center mb-6`}>
							<svg class={`w-8 h-8 ${colors.text}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d={service.iconSvg}></path>
							</svg>
						</div>
						<h3 class="text-2xl font-bold text-gray-900 mb-4">{service.title}</h3>
						<p class="text-gray-600 mb-6">{service.shortDescription}</p>
						<ul class="space-y-2 text-sm text-gray-600">
							{service.features?.map((feature: string) => (
								<li class="flex items-center">
									<span class={`w-1.5 h-1.5 ${colors.bullet} rounded-full mr-3`}></span>
									{feature}
								</li>
							))}
						</ul>
					</div>
				);
			})
		)}
	</div>

	<!-- Process Section -->
	<section class="bg-white rounded-2xl shadow-sm border border-gray-100 p-8 md:p-10 mb-16">
				<h2 class="text-2xl font-bold text-gray-900 mb-8 text-center">How We Work Together</h2>
		<div class="grid md:grid-cols-3 gap-8">
			<div class="text-center">
				<div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
							<span class="text-2xl font-bold text-blue-600">1</span>
				</div>
						<h3 class="text-lg font-semibold text-gray-900 mb-2">Discovery Call</h3>
						<p class="text-gray-600 text-sm">30-minute conversation to understand your technical challenges and business objectives.</p>
			</div>
			<div class="text-center">
				<div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
							<span class="text-2xl font-bold text-blue-600">2</span>
				</div>
						<h3 class="text-lg font-semibold text-gray-900 mb-2">Technical Assessment</h3>
						<p class="text-gray-600 text-sm">Comprehensive review of your current architecture, performance, and scalability needs.</p>
			</div>
			<div class="text-center">
				<div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
							<span class="text-2xl font-bold text-blue-600">3</span>
				</div>
						<h3 class="text-lg font-semibold text-gray-900 mb-2">Implementation</h3>
						<p class="text-gray-600 text-sm">Strategic development work with regular check-ins and transparent progress tracking.</p>
			</div>
		</div>
	</section>

	<!-- CTA Section -->
	<section class="bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl shadow-sm border border-blue-100 p-8 md:p-12 text-center">
				<h2 class="text-3xl font-bold text-gray-900 mb-4">Ready to Get Started?</h2>
				<p class="text-xl text-gray-600 mb-8 max-w-2xl mx-auto">Let's discuss how I can help with your frontend challenges and technical goals.</p>
		<div class="flex flex-col sm:flex-row gap-4 justify-center">
					<a href="/contact" class="inline-block bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors">Schedule a Call</a>
					<a href="https://visualboston.com" target="_blank" class="inline-block bg-white text-blue-600 border border-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-blue-50 transition-colors">Visit VisualBoston</a>
		</div>
	</section>
</Layout>